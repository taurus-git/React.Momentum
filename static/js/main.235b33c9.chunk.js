(this.webpackJsonpmomentum=this.webpackJsonpmomentum||[]).push([[0],{59:function(t,e,r){},63:function(t,e,r){},68:function(t,e,r){},81:function(t,e,r){},82:function(t,e,r){},83:function(t,e,r){"use strict";r.r(e);var n=r(1),c=r.n(n),a=r(8),i=r.n(a),o=r(4),s=r.n(o),u=r(7),l=r(9),d=r(10),j=r(14),h=r(13),b=r(11),f=r.n(b),O=(r(59),r(35)),p=r(0),v=function(t){var e=t.imageUrl;return Object(p.jsx)("div",{className:"dashboard",style:{backgroundImage:"url(".concat(e,")"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"}})},m=function(t){Object(j.a)(r,t);var e=Object(h.a)(r);function r(t){var n;return Object(l.a)(this,r),(n=e.call(this,t)).state={imageUrl:"https://images.unsplash.com/photo-1543169863-46febf95f5e3?ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&ixlib=rb-1.2.1&auto=format&fit=crop&w=2089&q=80",blur_hash:"LRBNNNM{o#s:yZofR+t6ESt8jXR*",weatherDesc:""},n}return Object(d.a)(r,[{key:"componentWillMount",value:function(){this.getBackgroundUrlSource()}},{key:"getBackgroundUrlSource",value:function(){var t=Object(u.a)(s.a.mark((function t(){var e,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=this.props.forecast)||0===Object.keys(e).length||e.constructor!==Object){t.next=5;break}return r=e.weather[0].description,t.next=5,this.getBackgroundUrl(r);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getBackgroundUrl",value:function(){var t=Object(u.a)(s.a.mark((function t(e){var r,n;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,f.a.get("https://api.unsplash.com/search/photos",{params:{query:e,per_page:100,orientation:"landscape"},headers:{Authorization:"Client-ID F0k0DI4K2Pqkxl87P8mdSBk9VEixFfR-j84mwZcbW9U"}});case 2:r=t.sent,n=Math.floor(10*Math.random(100)),this.setState({imageUrl:r.data.results[n].urls.regular,blur_hash:r.data.results[n].blur_hash});case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(t){void 0===t.forecast.weather&&""===this.state.weatherDesc&&this.getBackgroundUrlSource(),void 0!==this.props.forecast.weather&&void 0!==t.forecast.weather&&this.props.forecast.weather[0].description!==t.forecast.weather[0].description&&this.getBackgroundUrlSource()}},{key:"render",value:function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{className:"blur-background",children:Object(p.jsx)(O.a,{hash:this.state.blur_hash,width:"auto"})}),Object(p.jsx)(v,{imageUrl:this.state.imageUrl})]})}}]),r}(c.a.Component),x=(r(63),function(t){Object(j.a)(r,t);var e=Object(h.a)(r);function r(t){var n;return Object(l.a)(this,r),(n=e.call(this,t)).state={date:new Date},n}return Object(d.a)(r,[{key:"componentDidMount",value:function(){var t=this;this.timerID=setInterval((function(){return t.tick()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"tick",value:function(){this.setState({date:new Date})}},{key:"render",value:function(){return Object(p.jsx)("div",{className:"date-wrapper",children:Object(p.jsx)("span",{className:"date",children:this.state.date.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})})}}]),r}(c.a.Component)),g=r(6),D=r(2),w=r(33),T=r(5),y={ADD_CITY:"ADD_CITY",DELETE_CITY:"DELETE_CITY",ADD_FORECAST:"ADD_FORECAST"},S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;switch(e.type){case y.ADD_CITY:return Object(T.a)(Object(T.a)({},t),{},{name:e.name});case y.DELETE_CITY:return"";case y.ADD_FORECAST:return Object(T.a)(Object(T.a)({},t),{},{forecast:e.forecast});default:return t}},_=Object(g.b)({city:S}),k=function(){var t=Object(u.a)(s.a.mark((function t(e){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://cors-anywhere.herokuapp.com/",t.next=3,f.a.get("".concat("https://cors-anywhere.herokuapp.com/","https://api.openweathermap.org/data/2.5/weather?q=").concat(e,"&units=metric&APPID=b0e3cfcac6b3bb698bc3351ad3e21975"));case 3:return r=t.sent,t.abrupt("return",r);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),E=Object(D.b)()((function(t){var e,r=t.dispatch;return Object(p.jsx)("div",{className:"add-city",children:Object(p.jsxs)("form",{onSubmit:function(t){var n;(t.preventDefault(),e.value.trim())&&(r((n=e.value,function(){var t=Object(u.a)(s.a.mark((function t(e){var r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(n);case 2:r=t.sent,e({type:y.ADD_FORECAST,forecast:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.value="")},children:[Object(p.jsx)("input",{ref:function(t){return e=t}}),Object(p.jsx)("button",{type:"submit",children:"Add City"})]})})})),I=function(t){try{var e=localStorage.getItem(t);if(null===e)return;return JSON.parse(e)}catch(r){return}},L=function(t,e){try{var r=JSON.stringify(t);localStorage.setItem(e,r)}catch(n){}},A=function(t){var e=t.forecast,r=e.name,n=e.weather[0].description,c="http://openweathermap.org/img/wn/"+e.weather[0].icon+"@2x.png",a=Math.round(e.main.temp),i=Math.round(e.wind.speed);return Object(p.jsxs)("div",{className:"weather-details",children:[Object(p.jsx)("h3",{children:r}),Object(p.jsxs)("div",{className:"weather-info",children:[Object(p.jsx)("div",{children:Object(p.jsx)("img",{className:"weather-icon",src:c,alt:"current weather icon"})}),Object(p.jsxs)("div",{children:[Object(p.jsxs)("p",{children:[a," \xb0C"]}),Object(p.jsxs)("p",{children:[i," m/s"]}),Object(p.jsx)("p",{children:n})]})]})]})},C=function(t){var e=t.forecast,r=function(t){var r=I("city");return void 0!==t&&200===t.status?e.data:void 0!==r?r.city.forecast.data:{}},n=r(e);return Object(p.jsxs)("div",{children:[Object(p.jsx)(m,{forecast:r(e)}),n&&0!==Object.keys(n).length&&n.constructor===Object&&Object(p.jsx)(A,{forecast:r(e)})]})},W=Object(D.b)((function(t){return{forecast:t.city.forecast}}))(C),H=function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)(E,{}),Object(p.jsx)(W,{})]})},B=(r(68),r(12)),U=r.n(B),F=Object(g.c)(_,Object(g.a)(w.a));F.subscribe(U()((function(){L({city:F.getState().city},"city")}),1e3));var M=function(){return Object(p.jsx)(D.a,{store:F,children:Object(p.jsx)(H,{})})},N={ADD_TODO:"ADD_TODO",TOGGLE_TODO:"TOGGLE_TODO",SHOW_ALL:"SHOW_ALL",SHOW_COMPLETED:"SHOW_COMPLETED",SHOW_ACTIVE:"SHOW_ACTIVE",SET_VISIBILITY_FILTER:"SET_VISIBILITY_FILTER"},R=r(85),Y=function(t){var e=t.active,r=t.children,n=t.onClick;return Object(p.jsx)("button",{onClick:n,disabled:e,style:{marginLeft:"4px"},children:r})},G=Object(D.b)((function(t,e){return{active:e.filter===t.visibilityFilter}}),(function(t,e){return{onClick:function(){return t((r=e.filter,{type:N.SET_VISIBILITY_FILTER,filter:r}));var r}}}))(Y),V=function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)("span",{children:"Show: "}),Object(p.jsx)(G,{filter:N.SHOW_ALL,children:"All"}),Object(p.jsx)(G,{filter:N.SHOW_ACTIVE,children:"Active"}),Object(p.jsx)(G,{filter:N.SHOW_COMPLETED,children:"Completed"})]})},P=Object(D.b)()((function(t){var e,r=t.dispatch;return Object(p.jsx)("div",{children:Object(p.jsxs)("form",{onSubmit:function(t){var n;(t.preventDefault(),e.value.trim())&&(r((n=e.value,{type:N.ADD_TODO,id:Object(R.a)(),text:n})),e.value="")},children:[Object(p.jsx)("input",{ref:function(t){return e=t}}),Object(p.jsx)("button",{type:"submit",children:"Add Todo"})]})})})),q=function(t){var e=t.onClick,r=t.completed,n=t.text;return Object(p.jsx)("li",{onClick:e,style:{textDecoration:r?"line-through":"none"},children:n})},J=function(t){var e=t.todos,r=t.toggleTodo;return Object(p.jsx)("ul",{children:e.map((function(t){return Object(p.jsx)(q,Object(T.a)(Object(T.a)({},t),{},{onClick:function(){return r(t.id)}}),t.id)}))})},z=function(t,e){switch(e){case N.SHOW_ALL:return t;case N.SHOW_COMPLETED:return t.filter((function(t){return t.completed}));case N.SHOW_ACTIVE:return t.filter((function(t){return!t.completed}));default:throw new Error("Unknown filter: "+e)}},Z=Object(D.b)((function(t){return{todos:z(t.todos,t.visibilityFilter)}}),(function(t){return{toggleTodo:function(e){return t(function(t){return{type:N.TOGGLE_TODO,id:t}}(e))}}}))(J),K=function(){return Object(p.jsxs)("div",{className:"todo-wrapper",children:[Object(p.jsx)(P,{}),Object(p.jsx)(Z,{}),Object(p.jsx)(V,{})]})},X=r(34),Q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case N.ADD_TODO:return[].concat(Object(X.a)(t),[{id:e.id,text:e.text,completed:!1}]);case N.TOGGLE_TODO:return t.map((function(t){return t.id===e.id?Object(T.a)(Object(T.a)({},t),{},{completed:!t.completed}):t}));default:return t}},$=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N.SHOW_ALL,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case N.SET_VISIBILITY_FILTER:return e.filter;default:return t}},tt=Object(g.b)({todos:Q,visibilityFilter:$}),et=(r(81),I("todos")),rt=Object(g.c)(tt,et);rt.subscribe(U()((function(){L({todos:rt.getState().todos},"todos")}),1e3));var nt=function(){return Object(p.jsx)(D.a,{store:rt,children:Object(p.jsx)(K,{})})};r(82);var ct=function(){return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(x,{}),Object(p.jsx)(M,{}),Object(p.jsx)(nt,{})]})};i.a.render(Object(p.jsx)(ct,{}),document.getElementById("root"))}},[[83,1,2]]]);
//# sourceMappingURL=main.235b33c9.chunk.js.map